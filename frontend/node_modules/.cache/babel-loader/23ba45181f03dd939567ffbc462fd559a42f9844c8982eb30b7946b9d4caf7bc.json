{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"register--container\"\n};\nconst _hoisted_2 = {\n  id: \"sub--title\"\n};\nconst _hoisted_3 = [\"placeholder\"];\nconst _hoisted_4 = [\"maxlength\", \"placeholder\"];\nconst _hoisted_5 = [\"maxlength\", \"placeholder\"];\nconst _hoisted_6 = [\"maxlength\", \"placeholder\"];\nconst _hoisted_7 = [\"disabled\", \"placeholder\"];\nconst _hoisted_8 = [\"disabled\", \"placeholder\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h3\", null, _toDisplayString(_ctx.$t(\"registerTitle\")), 1), _createElementVNode(\"h3\", _hoisted_2, _toDisplayString(_ctx.$t(\"registerSubTitle\")), 1), _createElementVNode(\"form\", {\n    class: \"register--form\",\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $setup.submitForm && $setup.submitForm(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.inputs.location = $event),\n    type: \"text\",\n    placeholder: _ctx.$t('location'),\n    readonly: \"\"\n  }, null, 8, _hoisted_3), [[_vModelText, $setup.inputs.location]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.inputs.userName = $event),\n    maxlength: $setup.maxLength,\n    type: \"text\",\n    placeholder: _ctx.$t('userName')\n  }, null, 8, _hoisted_4), [[_vModelText, $setup.inputs.userName]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.inputs.firstName = $event),\n    maxlength: $setup.maxLength,\n    type: \"text\",\n    placeholder: _ctx.$t('firstName')\n  }, null, 8, _hoisted_5), [[_vModelText, $setup.inputs.firstName]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.inputs.lastName = $event),\n    maxlength: $setup.maxLength,\n    type: \"text\",\n    placeholder: _ctx.$t('lastName')\n  }, null, 8, _hoisted_6), [[_vModelText, $setup.inputs.lastName]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.inputs.email = $event),\n    type: \"email\",\n    placeholder: \"e-mail\",\n    class: _normalizeClass({\n      'text-red': !$setup.validateEmail($setup.inputs.email),\n      'text-green': $setup.validateEmail($setup.inputs.email)\n    })\n  }, null, 2), [[_vModelText, $setup.inputs.email]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.inputs.password = $event),\n    disabled: !$setup.inputs.emailValid,\n    class: _normalizeClass({\n      'text-green': $setup.inputs.samePassword,\n      'disabled--input': !$setup.inputs.emailValid\n    }),\n    type: \"password\",\n    placeholder: _ctx.$t('password')\n  }, null, 10, _hoisted_7), [[_vModelText, $setup.inputs.password]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.inputs.repeatPassword = $event),\n    disabled: !$setup.inputs.emailValid,\n    class: _normalizeClass({\n      'text-red': !$setup.inputs.samePassword,\n      'text-green': $setup.inputs.samePassword,\n      'disabled--input': !$setup.inputs.emailValid\n    }),\n    type: \"password\",\n    placeholder: _ctx.$t('passwordConfirm')\n  }, null, 10, _hoisted_8), [[_vModelText, $setup.inputs.repeatPassword]]), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $setup.submitForm && $setup.submitForm(...args)),\n    class: _normalizeClass([\"send--registration--btn\", {\n      'disabled--btn': !$setup.inputs.samePassword || !$setup.inputs.emailValid || !$setup.inputs.userName || !$setup.inputs.firstName || !$setup.inputs.lastName\n    }]),\n    type: \"submit\"\n  }, _toDisplayString(_ctx.$t(\"send\")), 3)], 32)]);\n}","map":{"version":3,"names":["class","id","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","_ctx","$t","_hoisted_2","onSubmit","_cache","_withModifiers","args","$setup","submitForm","$event","inputs","location","type","placeholder","readonly","_hoisted_3","userName","maxlength","maxLength","_hoisted_4","firstName","_hoisted_5","lastName","_hoisted_6","email","_normalizeClass","validateEmail","password","disabled","emailValid","samePassword","_hoisted_7","repeatPassword","_hoisted_8","onClick"],"sources":["/Users/axelfernandez/ecole42/cursus42/post_common_core/matcha/frontend/src/components/forms/RegisterForm.vue"],"sourcesContent":["<template>\n  <div class=\"register--container\">\n    <h3>{{ $t(\"registerTitle\") }}</h3>\n    <h3 id=\"sub--title\">{{ $t(\"registerSubTitle\") }}</h3>\n    <form class=\"register--form\" @submit.prevent=\"submitForm\">\n      <input\n  v-model=\"inputs.location\"\n  type=\"text\"\n  :placeholder=\"$t('location')\"\n  readonly\n/>\n\n      <input\n        v-model=\"inputs.userName\"\n        :maxlength=\"maxLength\"\n        type=\"text\"\n        :placeholder=\"$t('userName')\"\n      />\n      <input\n        v-model=\"inputs.firstName\"\n        :maxlength=\"maxLength\"\n        type=\"text\"\n        :placeholder=\"$t('firstName')\"\n      />\n      <input\n        v-model=\"inputs.lastName\"\n        :maxlength=\"maxLength\"\n        type=\"text\"\n        :placeholder=\"$t('lastName')\"\n      />\n      <input\n        v-model=\"inputs.email\"\n        type=\"email\"\n        placeholder=\"e-mail\"\n        :class=\"{\n          'text-red': !validateEmail(inputs.email),\n          'text-green': validateEmail(inputs.email),\n        }\"\n      />\n      <input\n        v-model=\"inputs.password\"\n        :disabled=\"!inputs.emailValid\"\n        :class=\"{\n          'text-green': inputs.samePassword,\n          'disabled--input': !inputs.emailValid,\n        }\"\n        type=\"password\"\n        :placeholder=\"$t('password')\"\n      />\n      <input\n        v-model=\"inputs.repeatPassword\"\n        :disabled=\"!inputs.emailValid\"\n        :class=\"{\n          'text-red': !inputs.samePassword,\n          'text-green': inputs.samePassword,\n          'disabled--input': !inputs.emailValid,\n        }\"\n        type=\"password\"\n        :placeholder=\"$t('passwordConfirm')\"\n      />\n\n      <button\n        @click=\"submitForm\"\n        class=\"send--registration--btn\"\n        type=\"submit\"\n        :class=\"{\n          'disabled--btn':\n            !inputs.samePassword ||\n            !inputs.emailValid ||\n            !inputs.userName ||\n            !inputs.firstName ||\n            !inputs.lastName,\n        }\"\n      >\n        {{ $t(\"send\") }}\n      </button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { useI18n } from \"vue-i18n\";\nimport { ref, watch } from \"vue\";\nimport { validateEmail } from \"@/libft/libft.js\";\n\nexport default {\n  name: \"RegisterForm\",\n\n  // data() {\n  //     console.log(this.$store.getters.getConnected);\n  //     this.$store.commit('isConnected');\n  //     console.log(this.$store.getters.getConnected);\n  //     return {\n  //         aff: this.$store.state.connected\n  //     }\n\n  // }\n\n  setup() {\n    const maxLength = 15;\n\n    // Traduction ----------------------------------\n    const { t } = useI18n();\n    const registerTitle = t(\"registerTitle\");\n    const registerSubTitle = t(\"registerSubTitle\");\n    const userName = t(\"userName\");\n    const firstName = t(\"firstName\");\n    const lastName = t(\"lastName\");\n    const password = t(\"password\");\n    const passwordConfirm = t(\"passwordConfirm\");\n    const send = t(\"send\");\n\n    // Input Object --------------------------------\n    let inputs = ref({\n      userName: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      emailValid: false,\n      password: \"\",\n      repeatPassword: \"\",\n      samePassword: false,\n    });\n\n    watch(\n      inputs,\n      (newValue) => {\n        if (newValue.email.length != 0) {\n          if (!validateEmail(newValue.email)) {\n            inputs.value.emailValid = false;\n            inputs.value.password = \"\";\n            inputs.value.repeatPassword = \"\";\n            inputs.value.samePassword = false;\n          } else {\n            inputs.value.emailValid = true;\n          }\n        }\n        if (newValue.password.length != 0) {\n          if (newValue.repeatPassword != inputs.value.password) {\n            inputs.value.samePassword = false;\n          } else {\n            inputs.value.samePassword = true;\n          }\n        }\n      },\n      { deep: true }\n    );\n\n    // const print = () => {\n    //     console.log(\n\n    //         inputs.value.userName,\n    //         ' ',\n    //         inputs.value.firstName,\n    //         ' ',\n\n    //         inputs.value.lastName,\n    //         ' ',\n\n    //         inputs.value.email,\n    //         ' ',\n\n    //         inputs.value.password\n    //     )\n    // }\n    async function getLocation() {\n  if ('geolocation' in navigator) {\n    navigator.geolocation.getCurrentPosition(function(position) {\n      console.log(\"Latitude: \" + position.coords.latitude);\n      console.log(\"Longitude: \" + position.coords.longitude);\n      inputs.value.location = {Latitude: position.coords.latitude, Longitude: position.coords.longitude};\n    }, function(error) {\n      console.error(\"Erreur de géolocalisation: \" + error.message);\n      inputs.value.location = \"Erreur de géolocalisation\";\n    }, {\n      maximumAge: 60000,\n      timeout: 5000,\n      enableHighAccuracy: true\n    });\n  } else {\n    console.error(\"Géolocalisation n'est pas prise en charge par ce navigateur.\");\n    inputs.value.location = \"Géolocalisation non prise en charge\";\n  }\n}\n\n\n\nasync function submitForm() {\n  try {\n    await getLocation();\n    const response = await fetch(\"/submit-form\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(this.inputs),\n    });\n    console.log(response);\n  } catch (error) {\n    console.error(\"Error submitting form:\", error);\n  }\n}\n\n    return {\n      getLocation,\n      registerTitle,\n      registerSubTitle,\n      userName,\n      firstName,\n      lastName,\n      password,\n      passwordConfirm,\n      send,\n      inputs,\n      maxLength,\n      validateEmail,\n      submitForm,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.register--container {\n  // border: solid 1px red;\n\n  // border: solid 1px red;\n  width: auto;\n  height: auto;\n  padding: 10px 35px 45px 35px;\n  border-radius: 15px;\n  background-image: linear-gradient(to right, #ff24a7af, #8890feb2);\n  box-shadow: 0 0 28px rgba(0, 0, 0, 0.498);\n  cursor: default;\n  user-select: none;\n\n  h3 {\n    margin: 10px 0 0 0;\n    color: white;\n    text-align: center;\n    font-weight: 900;\n    text-transform: capitalize;\n    font-size: calc(min(3vw + 2vh, 70px));\n    text-shadow: 0 0 18px rgba(255, 255, 255, 0.438);\n  }\n\n  #sub--title {\n    font-weight: 600;\n    font-size: calc(min(2vw + 1.6vh, 50px));\n    margin-bottom: 10px;\n  }\n\n  .register--form {\n    display: grid;\n    justify-items: center;\n\n    input {\n      padding: 6px;\n      margin: 10px;\n      width: 100%;\n      border: none;\n      outline: none;\n      border-radius: 8px;\n      text-align: center;\n      font-weight: 600;\n      // font-size: 1.2rem;\n      background-color: var(--purple-placeholder-bg);\n      color: var(--purple);\n    }\n\n    input::placeholder {\n      color: white;\n      font-weight: 400;\n\n      /* Couleur du placeholder */\n    }\n\n    .send--registration--btn {\n      margin-top: 25px;\n\n      // padding: 10px 30px 10px 30px;\n\n      height: 45px;\n      width: 180px;\n      border-radius: 10px;\n      border: none;\n      color: white;\n      font-weight: 600;\n      font-size: 1.2rem;\n\n      transition: all 0.4s;\n      cursor: pointer;\n      box-shadow: 0 0 6px rgba(0, 0, 0, 0.381);\n\n      background-image: linear-gradient(to right, #ff24a7af, #8890feb2);\n\n      &:hover {\n        background-image: linear-gradient(to right, #ff24a78a, #8890fe90);\n        /* Dégradé de couleur */\n        color: var(--purple);\n        transform: scale(1.1);\n      }\n    }\n\n    .disabled--btn {\n      opacity: 0.6;\n      cursor: default;\n\n      &:hover {\n        background-image: linear-gradient(to right, #ff24a7af, #8890feb2);\n        color: white;\n        transform: none;\n      }\n    }\n\n    @media (min-width: 800px) {\n      width: 70%;\n      margin: auto;\n    }\n  }\n\n  .disabled--input {\n    opacity: 0.5;\n  }\n}\n\n// .disabled {\n//     /* Vos styles pour le bouton désactivé */\n//     opacity: 0.5; /* Par exemple, réduire l'opacité */\n//     cursor: none; /* Changer le curseur */\n// }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}